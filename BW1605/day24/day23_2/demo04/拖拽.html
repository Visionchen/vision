<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="initial-scale=1,width=device-width,user-scalable=no,maximum-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0
        }


        #box {
            width: 100px;
            height: 100px;
            background: #f60;
            position: fixed;
            left: 400px;
            top: 100px
        }
        table {border-left:1px dotted #ccc; border-top:1px dotted #ccc;}
        table td {border-right:1px dotted #ccc; border-bottom:1px dotted #ccc; width:99px; height:99px}
    </style>
</head>
<body>

<table cellpadding="0" cellspacing="0">
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>
<div class="container"></div>
<div id="box"></div>


<script>


    window.onload = function () {

        // 获取拖动的div
        var box = document.getElementById('box');

        // 给box添加鼠标按下事件
        box.onmousedown = function (e) {

            // 获取事件对象
            var event = e || window.event;

            // 改变鼠标的样式
            box.style.cursor = 'move';

            var x = event.clientX;
            var y = event.clientY;

            // 获取鼠标按下去的坐标位置和box盒子容器之间的距离
            var w = x - box.offsetLeft;
            var h = y - box.offsetTop;

            // 鼠标移动事件
            document.onmousemove = function (e) {
                // 获取事件对象
                var event = e || window.event;
                // 获取当前鼠标坐标
                var _x = event.clientX;
                var _y = event.clientY;

                // 重新设置box的位置
                box.style.left = _x - w + 'px';
                box.style.top = _y - h + 'px';
            };

            // 鼠标按键释放的事件
            document.onmouseup = function () {

                // 把鼠标样式改为默认样式
                box.style.cursor = 'default';
                document.onmousemove = null;
            };

            return false;

        };

        // 上下左右
        document.onkeydown = function (event) {
            if(event.keyCode == 37) {
                box.style.left = box.offsetLeft - 100 +'px';
            } else if(event.keyCode == 38) {
                box.style.top = box.offsetTop - 100 +'px';
            } else if(event.keyCode == 39) {
                box.style.left = box.offsetLeft + 100 +'px';
            } else if(event.keyCode == 40) {
                box.style.top = box.offsetTop + 100 +'px';
            }
        }


    };

</script>


</body>
</html>